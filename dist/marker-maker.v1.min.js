function markerMaker(e,t=50,r=82){let{pinColor:o,pinColorDark:l}=colorExtractor(e);return pinMaker(o,l,t,r).toDataURL("image/png")}function colorExtractor(e){let t=document.createElement("div");t.style.color=e,document.body.appendChild(t);let r=window.getComputedStyle(t).color;return document.body.removeChild(t),{pinColor:r,pinColorDark:colorDarkening(r)}}function colorDarkening(e){let t=e.substring(4,e.length-1).split(",").map(e=>parseInt(e,10)),[r,o,l]=t.map(e=>e>=60?e-60:e);return"rgb("+r+", "+o+", "+l+")"}function pinMaker(e,t,r,o){let l=document.createElement("canvas");l.setAttribute("id","pin"),l.setAttribute("width",""+r),l.setAttribute("height",""+o);let n={x:r/2,y:o,pinColor:e,arcColor:"white",strokeColor:t},{pls:i,prs:c,arc:p}=setCoordinates(r,o),a=l.getContext("2d");return a.save(),a.translate(n.x,n.y),a.beginPath(),a.moveTo(0,0),a.bezierCurveTo(i.cp1x,i.cp1y,i.cp2x,i.cp2y,i.x,i.y),a.bezierCurveTo(c.cp1x,c.cp1y,c.cp2x,c.cp2y,c.x,c.y),a.fillStyle=n.pinColor,a.fill(),a.strokeStyle=n.strokeColor,a.lineWidth=2,a.stroke(),a.beginPath(),a.arc(p.x,p.y,p.r,p.sAngle,p.eAngle),a.closePath(),a.fillStyle=n.arcColor,a.fill(),a.strokeStyle=n.strokeColor,a.lineWidth=2,a.stroke(),a.restore(),l}function setCoordinates(e,t){let r={};r.cp1x=0,r.cp1y=-5,r.cp2x=-e,r.cp2y=-(t-2),r.x=0,r.y=-(t-2);let o={};o.cp1x=e,o.cp1y=-(t-2),o.cp2x=0,o.cp2y=-5,o.x=0,o.y=0;let l={};return l.x=0,l.y=-.67*t,l.r=t/9,l.sAngle=0,l.eAngle=2*Math.PI,{pls:r,prs:o,arc:l}}module.exports=function(e,t=50,r=82){return markerMaker(e,t,r)};