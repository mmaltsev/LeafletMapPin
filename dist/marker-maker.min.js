function markerMaker(e,t=50,o=82){let{pinColor:r,pinColorDark:n}=colorExtractor(e);return pinMaker(r,n,t,o).toDataURL("image/png")}function colorExtractor(e){let t=document.createElement("div");t.style.color=e,document.body.appendChild(t);let o=window.getComputedStyle(t).color;return document.body.removeChild(t),{pinColor:o,pinColorDark:colorDarkening(o)}}function colorDarkening(e){let t=e.substring(4,e.length-1).split(",").map(e=>parseInt(e,10)),[o,r,n]=t.map(e=>e>=60?e-60:e);return"rgb("+o+", "+r+", "+n+")"}function pinMaker(e,t,o,r){let n=document.createElement("canvas");n.setAttribute("id","pin"),n.setAttribute("width",""+o),n.setAttribute("height",""+r);let l={x:o/2,y:r,pinColor:e,arcColor:"white",strokeColor:t},{pls:i,prs:c,arc:p}=setCoordinates(o,r),a=n.getContext("2d");return a.save(),a.translate(l.x,l.y),a.beginPath(),a.moveTo(0,0),a.bezierCurveTo(i.cp1x,i.cp1y,i.cp2x,i.cp2y,i.x,i.y),a.bezierCurveTo(c.cp1x,c.cp1y,c.cp2x,c.cp2y,c.x,c.y),a.fillStyle=l.pinColor,a.fill(),a.strokeStyle=l.strokeColor,a.lineWidth=2,a.stroke(),a.beginPath(),a.arc(p.x,p.y,p.r,p.sAngle,p.eAngle),a.closePath(),a.fillStyle=l.arcColor,a.fill(),a.strokeStyle=l.strokeColor,a.lineWidth=2,a.stroke(),a.restore(),n}function setCoordinates(e,t){let o={};o.cp1x=0,o.cp1y=-5,o.cp2x=-e,o.cp2y=-(t-2),o.x=0,o.y=-(t-2);let r={};r.cp1x=e,r.cp1y=-(t-2),r.cp2x=0,r.cp2y=-5,r.x=0,r.y=0;let n={};return n.x=0,n.y=-.67*t,n.r=t/9,n.sAngle=0,n.eAngle=2*Math.PI,{pls:o,prs:r,arc:n}}const jsdom=require("jsdom"),{JSDOM:JSDOM}=jsdom,dom=new JSDOM(`<!DOCTYPE html><p>Hello world</p>`),{window:window}=new JSDOM(`...`),{document:document}=new JSDOM(`...`).window;module.exports=function(e,t=50,o=82){return markerMaker(e,t,o)};